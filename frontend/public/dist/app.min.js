angular.module("imsFrontendApp",["app.home","app.home.nolog","app.home.withlog","app.loginservice","app.startloading","app.home.startpage","ngRoute"]).config(function(o){o.html5Mode(!0)});var app;!function(o){var e;!function(o){"use strict";var e=function(){function o(){}return o}();o.CurrentUser=e;var t=function(){function o(o){this.$http=o,this.informationLoaded=!1,this.loggedUserInfo=void 0,console.log("Creating StartLoadingService...")}return o.prototype.sleep=function(o){for(var e=(new Date).getTime();e+o>=(new Date).getTime(););this.informationLoaded=!0},o.prototype.loadUserInfo=function(o){var e=this,t="/api/account/user?username="+o;this.$http.get(t).then(function(o){e.loggedUserInfo=o.data,e.sleep(2e3)},function(o){console.log("Error",o)})},o}();o.StartLoadingService=t,angular.module("app.startloading",[]).service("StartLoadingService",["$http",t])}(e=o.startloading||(o.startloading={}))}(app||(app={}));var app;!function(o){var e;!function(o){"use strict";var e=function(){function o(o){this.token=o}return o}();o.ResponseToken=e;var t=function(){function o(o,e){this.$localStorage=o,this.$cookies=e,this.isLogged=!1,this.loggedUser=void 0,console.log("Creating LoginService..."),this.isLogged=this.checkIfLogged()}return o.prototype.getIsLogged=function(){return this.isLogged},o.prototype.checkIfLogged=function(){var o=this.$localStorage.isLogged,e=this.$cookies.get("Bearer");return null==e||null==o?(console.log("Not logged "),!1):1==o},o.prototype.checkTokenSync=function(o){if(null==o)return!1;var e=new XMLHttpRequest,t="/api/authentication/validate";return e.open("POST",t,!1),e.setRequestHeader("Content-Type","application/txt"),e.send("eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJSaWNoYXJkMDEyIiwiY3JlYXRlZCI6MTQ4MTU4NDA5ODE1NywiZXhwIjoxNDg0MTc2MDk4fQ.0-cTOpZXwz7FewssjHpfXbWnr6JDUYX7B1ZbT3OPU6ude3MzA21obWA6VRtfysAwFSwIYXtSDINqDRM1EbTFJw"),200==e.status},o.prototype.login=function(o){var e=JSON.stringify(o),t=new XMLHttpRequest,n="http://localhost/api/authentication/auth";if(t.open("POST",n,!1),t.setRequestHeader("Content-Type","application/json"),console.log("Logging in...",e),t.send(e),200!=t.status)return!1;var i=JSON.parse(t.response);return this.$cookies.put("Bearer",i.token),this.isLogged=!0,this.loggedUser=o.username,console.log(o.username),!0},o}();o.LoginService=t,angular.module("app.loginservice",["ngStorage","ngCookies"]).service("LoginService",["$localStorage","$cookies",t])}(e=o.loginservice||(o.loginservice={}))}(app||(app={}));var app;!function(o){var e;!function(o){"use strict";var e=function(){function o(o,e,t){this.$scope=o,this.$cookies=e,this.LoginService=t}return o}();o.HomeCtrl=e,angular.module("app.home",["ngRoute","ngCookies","app.loginservice"]).config(function(o){o.when("/",{templateUrl:"../../views/home/home.html",controller:e,controllerAs:"homeCtrl"})})}(e=o.home||(o.home={}))}(app||(app={}));var app;!function(o){var e;!function(o){var e;!function(o){"use strict";var e=function(){function o(o,e){this.username=o,this.password=e}return o}();o.LoggingUser=e;var t=function(){function o(o,e){this.LoginService=o,this.$window=e,this.usernameLogin="",this.passwordLogin=""}return o.prototype.login=function(){var o=new e(this.usernameLogin,this.passwordLogin);console.log(o);var t=this.LoginService.login(o);console.log("Result of login is: ",t)},o}();o.HomeNoLogCtrl=t,angular.module("app.home.nolog",["app.loginservice","angularSpinner"]).directive("homeNoLogDirective",function(){return{templateUrl:"../../views/home/home_no_login.html",controller:t,controllerAs:"homeNoLogCtrl"}})}(e=o.nolog||(o.nolog={}))}(e=o.home||(o.home={}))}(app||(app={}));var app;!function(o){var e;!function(o){var e;!function(o){"use strict";var e=function(){function o(o,e,t){this.LoginService=o,this.StartLoadingService=e,this.$window=t,this.StartLoadingService.informationLoaded||(console.log("Loading user information..."),this.StartLoadingService.loadUserInfo(o.loggedUser))}return o}();o.HomeWithLogCtrl=e,angular.module("app.home.withlog",["app.loginservice","app.startloading","angularSpinner"]).directive("homeWithLogDirective",function(){return{templateUrl:"../../views/home/home_with_login.html",controller:e,controllerAs:"homeWithLogCtrl"}})}(e=o.withlog||(o.withlog={}))}(e=o.home||(o.home={}))}(app||(app={}));var app;!function(o){var e;!function(o){var e;!function(o){"use strict";var e=function(){function o(o,e,t){this.LoginService=o,this.StartLoadingService=e,this.$window=t}return o}();o.StartPageCtrl=e,angular.module("app.home.startpage",["app.loginservice","app.startloading","angularSpinner"]).directive("startPageDirective",function(){return{templateUrl:"../../views/startPage/startPage.html",controller:e,controllerAs:"startPageCtrl"}})}(e=o.withlog||(o.withlog={}))}(e=o.home||(o.home={}))}(app||(app={}));
//# sourceMappingURL=app.min.js.map
